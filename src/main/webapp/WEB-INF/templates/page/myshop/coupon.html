<div th:fragment="content">
    <div class="mypage-container">
        <!-- 사이드바 -->
        <aside class="mypage-sidebar">
            <h2>마이페이지</h2>
            <nav>
                <ul>
                    <li><a href="/mypage/page/orders">주문내역 조회</a></li>
                    <li><a href="/mypage/page/mileage">적립금</a></li>
                    <li><a href="/mypage/page/coupon" class="active">쿠폰</a></li>
                    <li class="divider"></li>
                    <li><a href="/mypage/page/wishlist">관심상품</a></li>
                    <li><a href="/mypage/page/info">나의 게시글</a></li>
                    <li class="divider"></li>
                    <li><a href="/user/user-edit">회원 정보 수정</a></li>
                    <li><a href="/logout">로그아웃</a></li>
                </ul>
            </nav>
        </aside>

        <!-- 메인 컨텐츠 -->
        <div class="main-content">
            <h1 class="page-title">쿠폰내역</h1>

            <div class="content-area">
                <!-- 쿠폰 등록 섹션 -->
                <div class="coupon-register-section">
                    <div class="register-box">
                        <div class="register-form">
                            <input
                                    type="text"
                                    id="couponCode"
                                    class="coupon-input"
                                    placeholder="판드시 쇼핑몰에서 발행한 쿠폰번호만 입력해주세요. (10~35자 영어번호 '-' 제외)"
                                    maxlength="35"
                            >
                            <button type="button" class="btn-register">쿠폰번호인증</button>
                        </div>
                    </div>
                </div>

                <!-- 쿠폰 목록 -->
                <table class="coupon-table">
                    <thead>
                    <tr>
                        <th class="col-number">번호</th>
                        <th>쿠폰명</th>
                        <th class="col-discount">할인</th>
                        <th class="col-earning">적립</th>
                        <th class="col-detail">상세</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:if="${userCoupons == null || userCoupons.isEmpty()}">
                        <td colspan="5" class="no-data">보유한 쿠폰이 없습니다.</td>
                    </tr>
                    <tr
                            th:each="coupon, stat : ${userCoupons}"
                            th:if="${userCoupons != null && !userCoupons.isEmpty()}"
                    >
                        <td th:text="${stat.count}">1</td>
                        <td th:text="${coupon.couponName}">신규가입 쿠폰 2,000원</td>
                        <td th:text="${coupon.discountText}">2,000원</td>
                        <td>-</td>
                        <td><a href="#" class="btn-detail">▼</a></td>
                    </tr>
                    </tbody>
                </table>

                <!-- 쿠폰 이용 안내 -->
                <div class="coupon-guide">
                    <h3>쿠폰 이용 안내</h3>
                    <ul>
                        <li>쿠폰인증번호 등록하기에서 쇼핑몰에서 발행한 종이쿠폰/시리얼쿠폰/모바일쿠폰 등의 인증번호를 등록하시면 온라인쿠폰으로 발급되어 사용이 가능합니다.</li>
                        <li>쿠폰은 주문 시 1회에 한해 적용되며, 1회 사용 시 재 사용이 불가능합니다.</li>
                        <li>쿠폰은 적용 가능한 상품이 따로 적용되어 있는 경우 해당 상품 구매 시에만 사용이 가능합니다.</li>
                        <li>특정한 종이쿠폰/시리얼쿠폰/모바일쿠폰의 경우 단 1회만 사용이 가능할 수 있습니다.</li>
                        <li>기본 배송비 할인쿠폰은 배송구분이 '기본배송'인 상품에 부과된 배송비만 할인이 적용됩니다.</li>
                        <li>전체 배송비 할인쿠폰은 배송구분이 '기본배송', '개별배송', '공급사배송'인 상품에 부과된 배송비 할인이 적용됩니다.</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <link rel="stylesheet" th:href="@{/resources/css/coupon.css}" />
    <script th:src="@{/resources/js/coupon.js}"></script>
</div>
