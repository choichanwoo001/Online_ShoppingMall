<div th:fragment="content">

    <div class="main-container">

        <!-- 배너 섹션 -->
        <div class="banner-section">
            <div class="big-banner swiper big-swiper">
                <div class="swiper-wrapper">

                    <!-- 배너가 있고 리스트가 비어있지 않을 때 -->
                    <div class="swiper-slide" th:if="${bigBanners != null and !#lists.isEmpty(bigBanners)}"
                         th:each="banner : ${bigBanners}">

                        <!-- 링크가 있을 때 -->
                        <a th:if="${banner.link != null and banner.link != ''}" th:href="${banner.link}" class="banner-link">
                            <img th:src="@{'/resources/images/index/' + ${banner.image}}" alt="큰 배너" class="banner-image" />
                        </a>

                        <!-- 링크 없을 때 -->
                        <div th:unless="${banner.link != null and banner.link != ''}" class="banner-container">
                            <img th:src="@{'/resources/images/index/' + ${banner.image}}" alt="큰 배너" class="banner-image" />
                        </div>

                    </div>

                    <!-- 배너가 없거나 리스트가 비어있을 때 -->
                    <div class="swiper-slide" th:if="${bigBanners == null or #lists.isEmpty(bigBanners)}">
                        <div class="no-banner">
                            <p>배너가 없습니다</p>
                        </div>
                    </div>

                </div> <!-- swiper-wrapper -->

                <div class="swiper-pagination"></div>
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
            </div> <!-- big-swiper -->
        </div> <!-- banner-section -->

    </div> <!-- main-container -->

    <!-- CSS 파일 링크 -->
    <link rel="stylesheet" th:href="@{/resources/css/main-banner.css}">

    <!-- 스크립트: 항상 맨 아래 -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
        window.addEventListener('DOMContentLoaded', () => {
            new Swiper('.big-swiper', {
                loop: true,
                slidesPerView: 1, // 한번에 하나의 슬라이드만 표시
                spaceBetween: 0,
                centeredSlides: true,
                pagination: {
                    el: '.big-swiper .swiper-pagination',
                    clickable: true
                },
                navigation: {
                    nextEl: '.swiper-button-next',
                    prevEl: '.swiper-button-prev',
                },
                autoplay: {
                    delay: 4000,
                    disableOnInteraction: false
                },
                speed: 800,
                effect: 'slide'
            });
        });
    </script>

</div>